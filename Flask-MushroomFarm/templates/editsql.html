{% extends "base.html" %}

{% block title %}Edit Data Mahasiswa{% endblock %}

{% block content %}
  <h2 class="text-2xl font-bold text-blue-900 mb-6 text-center">
    ✏️ Edit Student
  </h2>

  <form action="/update/{{ student.id }}" method="post" enctype="multipart/form-data"
        class="space-y-4 max-w-md mx-auto bg-white shadow-md p-6 rounded-xl">

    <!-- Nama -->
    <input type="text" name="name" value="{{ student.name }}" placeholder="Nama"
           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">

    <!-- Alamat -->
    <input type="text" name="address" value="{{ student.address }}" placeholder="Alamat"
           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">

    <!-- Kota -->
    <input type="text" name="city" value="{{ student.city }}" placeholder="Kota"
           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">

      <!-- Username -->
    <input type="text" name="username" value="{{ student.username }}" placeholder="Kota"
           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">

    <!-- PIN -->
    <input type="text" name="pin" value="{{ student.pin }}" placeholder="PIN"
           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">

    <!-- Foto Lama -->
    {% if student.photo %}
      <div class="text-center">
        <p class="text-gray-700 mb-2">Foto Lama:</p>
        <img src="{{ url_for('static', filename='uploads/' ~ student.photo) }}"
             alt="Foto Siswa"
             class="w-32 h-32 object-cover rounded-lg mx-auto border shadow-md">
      </div>
    {% endif %}

    <!-- Upload Foto Baru -->
    <div>
      <label class="block text-gray-700 mb-2">Ganti Foto (opsional)</label>
      <input type="file" name="photo"
             class="w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4
                    file:rounded-lg file:border-0
                    file:text-sm file:font-semibold
                    file:bg-blue-50 file:text-blue-600
                    hover:file:bg-blue-100">
    </div>

    <!-- Tombol Update -->
    <button type="submit"
            class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition">
      ✅ Update
    </button>
  </form>

  <div class="text-center mt-6">
    <a href="/list" class="text-blue-600 hover:text-blue-800 font-medium transition">
      ← Back to Student List
    </a>
  </div>
{% endblock %}
